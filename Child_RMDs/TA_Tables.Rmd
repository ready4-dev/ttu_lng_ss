---
title: "MA_Results"
author: "Matthew Hamilton"
date: "13/10/2020"
output: html_document
---

```{r tenfoldolstb, tab.cap='10-fold cross-validated model fitting index for different OLS or GLM models for using PHQ9 total scores as predictor with the baseline data', tab.id = 'tenfoldolstb', echo = F, results = 'asis'}
print_ten_folds_tbl(params,
                    caption_1L_chr = knitr::opts_current$get("tab.cap"),
                    mkdn_tbl_ref_1L_chr = paste0("tab:",knitr::opts_current$get("tab.id")))
```
\newpage
```{r tenfoldglmtb, tab.cap='10-fold cross-validated model fitting index for different candidate predictors estimated using GLM with Gaussian distribution and log link with the baseline data', tab.id = 'tenfoldglmtb', echo = F, results = 'asis'}
print_ten_folds_tbl(params,
                    caption_1L_chr = knitr::opts_current$get("tab.cap"),
                    mkdn_tbl_ref_1L_chr = paste0("tab:",knitr::opts_current$get("tab.id")),
                    ref_1L_int = 2)
```
\newpage
```{r coefscovarstype1, tab.cap='Estimated coefficients from longitudinal TTU models based on individual candidate predictors and SOFAS score using GLM (Gaussian distribution with log link)', tab.id = 'coefscovarstype1', echo = F, results = 'asis'}
print_covar_ttu_tbls(params,
                     caption_1L_chr = knitr::opts_current$get("tab.cap"),
                     table_1L_chr = knitr::opts_current$get("tab.id"))
```
\newpage
```{r coefscovarstype2, tab.cap='Estimated coefficients from longitudinal TTU models based on candidate predictors and SOFAS score using LLM (with cloglog transformation)', tab.id = 'coefscovarstype2', echo = F, results = 'asis'}
# df <- results_ls$tables_ls$mdl_type_2_covar_mdls_tb %>%
#   dplyr::mutate(Parameter = Parameter %>% purrr::map_chr(~stringr::str_replace_all(.x,"_"," ")))
# if(params$output_type_1L_chr == "PDF"){
#   add_to_row_ls <- list()
# add_to_row_ls$pos <- list(0, nrow(df))
# add_to_row_ls$command <- c("Parameter & Estimate	& SE	& 95CI & R2	& Sigma\\\\\n",
#                            paste0("\\hline\n",
#                                   "{\\footnotesize ",
#                                   make_scaling_text(results_ls, 
#                                                     table_1L_chr = knitr::opts_current$get("tab.id")),
#                                   "}\n"))
#   df$Parameter <- df$Parameter %>% purrr::map_chr(~ifelse(endsWith(.x," model"),paste0("\\textbf{",.x,"}"),.x))
# }else{
#   add_to_row_ls <- NULL
# }
# df %>%
#   ready4show::print_table(output_type_1L_chr = params$output_type_1L_chr,
#                           caption_1L_chr = knitr::opts_current$get("tab.cap"),
#                           mkdn_tbl_ref_1L_chr = paste0("tab:",knitr::opts_current$get("tab.id")),
#                           use_rdocx_1L_lgl = ifelse(params$output_type_1L_chr=="Word",T,F),
#                           add_to_row_ls = add_to_row_ls,
#                           footnotes_chr = make_scaling_text(results_ls, 
#                                                             table_1L_chr = knitr::opts_current$get("tab.id")),
#                           hline_after_ls = c(-1,0),
#                           sanitize_fn = force)
print_covar_ttu_tbls(params,
                     caption_1L_chr = knitr::opts_current$get("tab.cap"),
                     table_1L_chr = knitr::opts_current$get("tab.id"),
                     ref_1L_int = 2)
```